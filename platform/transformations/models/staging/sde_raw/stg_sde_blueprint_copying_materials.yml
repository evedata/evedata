version: 2

models:
  - name: sde_blueprint_copying_materials
    description: |
      Material requirements for blueprint copying activities in EVE Online's industry
      system. Blueprint copying allows players to create limited-run copies of blueprint
      originals, which can then be used for manufacturing or distributed to other
      players. This bridge table links blueprints to the specific materials consumed
      during the copying process, typically including data sheets and other specialized
      copying materials. Each record represents one material type required for copying a
      specific blueprint.
    columns:
      - name: blueprint_copying_material_uuid
        description: "Unique identifier for the blueprint copying material requirement record."
        data_tests:
          - not_null
          - unique
      - name: blueprint_uuid
        description: "UUID of the blueprint being copied."
        data_tests:
          - not_null
          - relationships:
              arguments:
                to: ref('sde_blueprints')
                field: blueprint_uuid
      - name: type_id
        description: "Material item consumed during copying process. References stg.sde_types (required)"
        data_tests:
          - not_null
          - relationships:
              arguments:
                to: ref('sde_types')
                field: type_id
      - name: quantity
        description: "Number of material units required per blueprint copy run. Always positive integer value"
        data_tests:
          - not_null
          - dbt_utils.accepted_range:
              arguments:
                min_value: 1
