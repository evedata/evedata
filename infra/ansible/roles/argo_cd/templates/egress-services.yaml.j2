---
# Egress services for remote clusters via Tailscale
# Generated by Ansible - Do not modify manually
{% for hostname in argo_cd_remote_cluster_hostnames %}
---
apiVersion: v1
kind: Service
metadata:
  name: {{ hostname }}
  namespace: {{ argo_cd_namespace }}
  annotations:
    tailscale.com/tailnet-fqdn: "{{ hostname }}.{{ tailscale_dns_name }}"
  labels:
    app.kubernetes.io/name: egress-service
    app.kubernetes.io/instance: {{ hostname }}
    app.kubernetes.io/component: remote-cluster
    app.kubernetes.io/part-of: argocd
    app.kubernetes.io/managed-by: ansible
spec:
  type: ExternalName
  externalName: placeholder
  ports:
    - name: https
      port: 443
      protocol: TCP
{% if not loop.last %}
---
{% endif %}
{% endfor %}
